{
  "hash": "bde0881a23a531007ac53f587865915a",
  "result": {
    "engine": "knitr",
    "markdown": "---\ntitle: |\n  | [오픈소스 프로그래밍 1]{style=\"color:coral;font-size:0.6em\"}   \n  | [데이터 불러오기ㆍ정돈하기ㆍ변형하기]{style=\"font-size:0.9em\"} \nauthor: <br> 이상일(서울대학교 지리교육과 교수)\ndate: 2025-12-31\nformat: \n  revealjs:\n    logo: snu_edu_1.png\n    footer: https://sangillee.snu.ac.kr/\n    transition: fade\n    transition-speed: fast\n    margin: 0.05\n    center: false\n    # smaller: false\n    # scrollable: false\n    code-link: true\n    code-line-numbers: false\n    code-copy: true\n    code-overflow: scroll\n    slide-number: true\n    width: 960 * 1.5\n    height: 700 * 1.5\n    lightbox: false\n    # min-scale: 1\n    # max-scale: 1\n    pointer:\n      pointerSize: 20\n      color: red\n    menu: true\n    embed-resources: false\n    theme: [default, custom_hq_pretendard_step.scss] # 슬라이드 본문 폰트 크기 조정\n    revealjs-plugins:\n      - pointer\n    css: styles.css\nexecute: \n  warning: false\n  error: false\n  freeze: auto  \ndpi: 600\neditor: visual\nwebr: \n  show-startup-message: false     \n  packages: []\nfilters:\n  - webr\n# suppress-bibliography: true\neditor_options: \n  chunk_output_type: console\n---\n\n# [데이터 불러오기]{style=\"color:coral\"}\n\n## 데이터사이언스 프로세스\n\n![[https://r4ds.hadley.nz/import.html](https://r4ds.hadley.nz/import.html){style=\"font-size:1rem\"}](images/data_science_process_import-02.png)\n\n-   데이터 불러오기(importing): 데이터를 '가져와' R 객체로 만들기\n\n## 데이터사이언스 프로세스: 타이디버스\n\n![https://r4ds.hadley.nz/intro.html](images/data_science_process_packages-03.png)\n\n## **tibble** 패키지\n\n![[https://tibble.tidyverse.org/](https://tibble.tidyverse.org/){style=\"font-size:1rem\"}](images/clipboard-3459494907.png){fig-align=\"center\"}\n\n## tibble vs. data.frame\n\n::: panel-tabset\n## 데이터 프레임\n\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(tidyverse)\na <- c(TRUE, FALSE, TRUE, FALSE)\nb <- c(58L, 26L, 28L, 22L)\nc <- c(3.19, 2.09, 2.11, 2.03)\nd <- c(\"이상일\", \"김우형\", \"이하은\", \"박서우\")\ne <- c(\"남자\", \"남자\", \"여자\", \"여자\")\ndf_1 <- data.frame(a, b, c, d, e)\ndf_2 <- tibble(a, b, c, d, e)\n```\n:::\n\n\n## data.frame\n\n\n::: {.cell}\n\n```{.r .cell-code}\ndf_1\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n      a  b    c      d    e\n1  TRUE 58 3.19 이상일 남자\n2 FALSE 26 2.09 김우형 남자\n3  TRUE 28 2.11 이하은 여자\n4 FALSE 22 2.03 박서우 여자\n```\n\n\n:::\n:::\n\n\n## tibble 1\n\n\n::: {.cell}\n\n```{.r .cell-code}\ndf_2\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n# A tibble: 4 × 5\n  a         b     c d      e    \n  <lgl> <int> <dbl> <chr>  <chr>\n1 TRUE     58  3.19 이상일 남자 \n2 FALSE    26  2.09 김우형 남자 \n3 TRUE     28  2.11 이하은 여자 \n4 FALSE    22  2.03 박서우 여자 \n```\n\n\n:::\n:::\n\n\n## tibble 2\n\n\n::: {.cell}\n\n```{.r .cell-code}\ndf_2 |> mutate(\n  e = fct(e, levels = c(\"남자\", \"여자\"))\n)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n# A tibble: 4 × 5\n  a         b     c d      e    \n  <lgl> <int> <dbl> <chr>  <fct>\n1 TRUE     58  3.19 이상일 남자 \n2 FALSE    26  2.09 김우형 남자 \n3 TRUE     28  2.11 이하은 여자 \n4 FALSE    22  2.03 박서우 여자 \n```\n\n\n:::\n:::\n\n:::\n\n## 데이터 뷰어 Data viewer {visibility=\"hidden\"}\n\n-   데이터 프레임(티블) 객체를 엑셀과 유사한 형태로 디스플레이\n\n-   작동 방법\n\n    -   `View(티블명)` 함수\n\n    -   환경창의 아이콘 클릭\n\n-   기능\n\n    -   소팅(sorting): 분류하기\n\n    -   스크롤링(scrolling): 상하이동\n\n    -   필터링(filtering): 골라내기\n\n    -   서칭(searching): 검색하기\n\n## 데이터 뷰어 Data viewer {visibility=\"hidden\"}\n\n![](images/clipboard-3652581161.png)\n\n## 데이터 뷰어 Data viewer {visibility=\"hidden\"}\n\n![](images/clipboard-2907343879.png)\n\n## **readr** 패키지\n\n![[https://readr.tidyverse.org/](https://readr.tidyverse.org/){style=\"font-size:1rem\"}](images/clipboard-1251213286.png){fig-align=\"center\"}\n\n## **readr** 패키지: 주요 불러오기 함수\n\n| 함수명         | 포맷                                       |\n|----------------|--------------------------------------------|\n| `read_csv()`   | 콤마분리(comma-separated values, CSV) 형식 |\n| `read_csv2()`  | 세미콜론분리(semicolon-separated) 형식     |\n| `read_tsv()`   | 탭구분(tab-limited) 형식                   |\n| `read_delim()` | 여타의 구분 형식                           |\n| `read_fwf()`   | 고정폭(fixed-width) 형식                   |\n| `read_table()` | 공백구분 형식                              |\n| `read_log()`   | 아파치 형식(Apache-style)의 로그 파일      |\n\n## **readr** 패키지: 주요 파싱(parsing) 함수\n\n| 컬럼 유형    | 새로운 벡터       | 기존 벡터           |\n|--------------|-------------------|---------------------|\n| 논리형 `lgl` | `col_logical()`   | `parse_logical()`   |\n| 정수형 `int` | `col_integer()`   | `parse_integer()`   |\n| 실수형 `dbl` | `col_double()`    | `parse_double()`    |\n| 문자형 `chr` | `col_character()` | `parse_character()` |\n| 범주형 `fct` | `col_factor()`    | `parse_factor()`    |\n\n## `read_csv()` 함수의 활용\n\n::: panel-tabset\n## 불러오기 1\n\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(tidyverse)\nread_csv(\"https://pos.it/r4ds-students-csv\")\n```\n:::\n\n\n## 결과 1\n\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(tidyverse)\nread_csv(\"https://pos.it/r4ds-students-csv\")\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n# A tibble: 6 × 5\n  `Student ID` `Full Name`      favourite.food     mealPlan            AGE  \n         <dbl> <chr>            <chr>              <chr>               <chr>\n1            1 Sunil Huffmann   Strawberry yoghurt Lunch only          4    \n2            2 Barclay Lynn     French fries       Lunch only          5    \n3            3 Jayendra Lyne    N/A                Breakfast and lunch 7    \n4            4 Leon Rossini     Anchovies          Lunch only          <NA> \n5            5 Chidiegwu Dunkel Pizza              Breakfast and lunch five \n6            6 Güvenç Attila    Ice cream          Lunch only          6    \n```\n\n\n:::\n:::\n\n\n## 불러오기 2\n\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(tidyverse)\nread_csv(\n  file = \"https://pos.it/r4ds-students-csv\", \n  skip = 1, \n  col_names = c(\"student_id\", \"full_name\", \"favorite_food\", \"meal_plan\", \"age\"),\n  col_types = cols(\n    meal_plan = col_factor(),\n    age = col_number()\n  ),\n  na = c(\"N/A\")\n  )\n```\n:::\n\n\n## 결과 2\n\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(tidyverse)\nread_csv(\n  file = \"https://pos.it/r4ds-students-csv\", \n  skip = 1, \n  col_names = c(\"student_id\", \"full_name\", \"favorite_food\", \"meal_plan\", \"age\"),\n  col_types = cols(\n    meal_plan = col_factor(),\n    age = col_number()\n  ),\n  na = c(\"N/A\")\n  )\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n# A tibble: 6 × 5\n  student_id full_name        favorite_food      meal_plan             age\n       <dbl> <chr>            <chr>              <fct>               <dbl>\n1          1 Sunil Huffmann   Strawberry yoghurt Lunch only              4\n2          2 Barclay Lynn     French fries       Lunch only              5\n3          3 Jayendra Lyne    <NA>               Breakfast and lunch     7\n4          4 Leon Rossini     Anchovies          Lunch only             NA\n5          5 Chidiegwu Dunkel Pizza              Breakfast and lunch    NA\n6          6 Güvenç Attila    Ice cream          Lunch only              6\n```\n\n\n:::\n:::\n\n:::\n\n## 관련 패키지\n\n::: {layout=\"[30,30, 30]\" layout-valign=\"center\"}\n![[https://readxl.tidyverse.org/](https://readxl.tidyverse.org/){style=\"font-size:1rem\"}](images/clipboard-2419843589.png)\n\n![[https://ycphs.github.io/openxlsx/](https://ycphs.github.io/openxlsx/){style=\"font-size:1rem\"}](images/clipboard-2386206028.png)\n\n![[https://googlesheets4.tidyverse.org/](https://googlesheets4.tidyverse.org/){style=\"font-size:1rem\"}](images/clipboard-812069546.png)\n:::\n\n## **readxl** 패키지\n\n-   `read_xls(), read_xlsx(), read_excel()`\n\n    -   `path`: 파일 경로와 파일명\n\n    -   `sheet`: 특정 시트의 선택\n\n    -   `range`: 특정 범위의 셀 선택\n\n    -   `skip`: 불러들이지 않을 최소 행 번호\n\n    -   `col_names`: 컬럼 이름 지정\n\n    -   `col_types`: 컬럼 데이터 유형 지정(\"skip\", \"guess\", \"text\", \"logical\", \"numeric\", etc.)\n\n    -   `na`: 결측치 규정\n\n# [데이터 정돈하기]{style=\"color:coral\"}\n\n## 데이터사이언스 프로세스\n\n![https://r4ds.hadley.nz/import.html](images/data_science_process_import-02.png)\n\n-   데이터 정돈하기(tidying): 불러온 데이터를 '정돈된(tidy)' 데이터로 만들기\n\n## 데이터사이언스 프로세스: 타이디버스\n\n![https://r4ds.hadley.nz/intro.html](images/data_science_process_packages-03.png)\n\n## **tidyr** 패키지\n\n![[https://tidyr.tidyverse.org/](https://tidyr.tidyverse.org/){style=\"font-size:1rem\"}](images/clipboard-1046439731.png){fig-align=\"center\"}\n\n## '정돈된 데이터'의 정의\n\n![[https://allisonhorst.com/other-r-fun](https://allisonhorst.com/other-r-fun){style=\"font-size:1rem\"}](images/clipboard-4067066416.png)\n\n## '정돈된 데이터'의 정의\n\n![[https://allisonhorst.com/other-r-fun](https://allisonhorst.com/other-r-fun){style=\"font-size:1rem\"}](images/clipboard-3412852372.png)\n\n## '정돈된 데이터'의 정의\n\n-   개별 변수(variable)는 열(column) 하나를 차지한다. 즉, 개별 열에는 하나의 변수가 위치한다.\n\n-   개별 관측개체(observation)는 하나의 행(row)을 차지한다. 즉, 개별 행에는 하나의 관측개체가 위치한다.\n\n-   개별 값(value)은 하나의 셀(cell)을 차지한다. 즉, 개별 셀에는 하나의 값이 위치한다.\n\n## '정돈된 데이터'의 예시\n\n::: panel-tabset\n## table1\n\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(tidyverse)\ntable1\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n# A tibble: 6 × 4\n  country      year  cases population\n  <chr>       <dbl>  <dbl>      <dbl>\n1 Afghanistan  1999    745   19987071\n2 Afghanistan  2000   2666   20595360\n3 Brazil       1999  37737  172006362\n4 Brazil       2000  80488  174504898\n5 China        1999 212258 1272915272\n6 China        2000 213766 1280428583\n```\n\n\n:::\n:::\n\n\n## table4a\n\n\n::: {.cell}\n\n```{.r .cell-code}\ntable4a\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n# A tibble: 3 × 3\n  country     `1999` `2000`\n  <chr>        <dbl>  <dbl>\n1 Afghanistan    745   2666\n2 Brazil       37737  80488\n3 China       212258 213766\n```\n\n\n:::\n:::\n\n\n## table2\n\n\n::: {.cell}\n\n```{.r .cell-code}\ntable2\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n# A tibble: 12 × 4\n   country      year type            count\n   <chr>       <dbl> <chr>           <dbl>\n 1 Afghanistan  1999 cases             745\n 2 Afghanistan  1999 population   19987071\n 3 Afghanistan  2000 cases            2666\n 4 Afghanistan  2000 population   20595360\n 5 Brazil       1999 cases           37737\n 6 Brazil       1999 population  172006362\n 7 Brazil       2000 cases           80488\n 8 Brazil       2000 population  174504898\n 9 China        1999 cases          212258\n10 China        1999 population 1272915272\n11 China        2000 cases          213766\n12 China        2000 population 1280428583\n```\n\n\n:::\n:::\n\n\n## table3\n\n\n::: {.cell}\n\n```{.r .cell-code}\ntable3\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n# A tibble: 6 × 3\n  country      year rate             \n  <chr>       <dbl> <chr>            \n1 Afghanistan  1999 745/19987071     \n2 Afghanistan  2000 2666/20595360    \n3 Brazil       1999 37737/172006362  \n4 Brazil       2000 80488/174504898  \n5 China        1999 212258/1272915272\n6 China        2000 213766/1280428583\n```\n\n\n:::\n:::\n\n:::\n\n## '정돈된 데이터'의 이점\n\n![[https://allisonhorst.com/other-r-fun](https://allisonhorst.com/other-r-fun){style=\"font-size:1rem\"}](images/clipboard-3106963859.png)\n\n## '정돈된 데이터'의 이점\n\n![[https://allisonhorst.com/other-r-fun](https://allisonhorst.com/other-r-fun){style=\"font-size:1rem\"}](images/clipboard-3609380673.png)\n\n## '정돈된 데이터'의 이점\n\n![[https://allisonhorst.com/other-r-fun](https://allisonhorst.com/other-r-fun){style=\"font-size:1rem\"}](images/clipboard-1736663833.png)\n\n## 데이터 정돈하기의 핵심 기능\n\n-   데이터 구조 변형\n\n    -   핵심 기능으로 데이터 늘이기와 데이터 넓히기가 포함\n\n-   컬럼의 결합 및 분할\n\n    -   두 개 이상의 컬럼을 하나의 컬럼으로 결합하거나 한 컬럼을 두 개 이상의 컬럼으로 분할\n\n-   결측치 처리\n\n    -   결측치가 포함된 행을 다양한 방식으로 처리\n\n## 데이터 구조 변형\n\n![[https://www.r-bloggers.com/2024/09/mastering-data-transformation-in-r-with-pivot_longer-and-pivot_wider/](https://www.r-bloggers.com/2024/09/mastering-data-transformation-in-r-with-pivot_longer-and-pivot_wider/){style=\"font-size:1rem\"}](images/clipboard-1179593338.png){fig-align=\"center\"}\n\n## 와이드 폼(wide form) vs. 롱 폼(long form)\n\n![](images/clipboard-2491549849.png){fig-align=\"center\"}\n\n## 데이터 늘이기: `pivot_longer()`\n\n::: panel-tabset\n## table4a\n\n\n::: {.cell}\n\n```{.r .cell-code}\ntable4a\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n# A tibble: 3 × 3\n  country     `1999` `2000`\n  <chr>        <dbl>  <dbl>\n1 Afghanistan    745   2666\n2 Brazil       37737  80488\n3 China       212258 213766\n```\n\n\n:::\n:::\n\n\n## 정돈 결과\n\n\n::: {.cell}\n\n```{.r .cell-code}\ntable4a |> \n  pivot_longer(\n    cols = c(`1999`, `2000`),\n    names_to = \"year\", \n    values_to = \"cases\"\n  )\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n# A tibble: 6 × 3\n  country     year   cases\n  <chr>       <chr>  <dbl>\n1 Afghanistan 1999     745\n2 Afghanistan 2000    2666\n3 Brazil      1999   37737\n4 Brazil      2000   80488\n5 China       1999  212258\n6 China       2000  213766\n```\n\n\n:::\n:::\n\n:::\n\n## 데이터 늘이기: `pivot_longer()`\n\n![](images/clipboard-2601245679.png)\n\n## 데이터 넓히기: `pivot_wider()`\n\n::: panel-tabset\n## table2\n\n\n::: {.cell}\n\n```{.r .cell-code}\ntable2\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n# A tibble: 12 × 4\n   country      year type            count\n   <chr>       <dbl> <chr>           <dbl>\n 1 Afghanistan  1999 cases             745\n 2 Afghanistan  1999 population   19987071\n 3 Afghanistan  2000 cases            2666\n 4 Afghanistan  2000 population   20595360\n 5 Brazil       1999 cases           37737\n 6 Brazil       1999 population  172006362\n 7 Brazil       2000 cases           80488\n 8 Brazil       2000 population  174504898\n 9 China        1999 cases          212258\n10 China        1999 population 1272915272\n11 China        2000 cases          213766\n12 China        2000 population 1280428583\n```\n\n\n:::\n:::\n\n\n## 정돈 결과\n\n\n::: {.cell}\n\n```{.r .cell-code}\ntable2 |> \n  pivot_wider(\n    id_cols = c(country, year),\n    names_from = type, \n    values_from = count\n  )\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n# A tibble: 6 × 4\n  country      year  cases population\n  <chr>       <dbl>  <dbl>      <dbl>\n1 Afghanistan  1999    745   19987071\n2 Afghanistan  2000   2666   20595360\n3 Brazil       1999  37737  172006362\n4 Brazil       2000  80488  174504898\n5 China        1999 212258 1272915272\n6 China        2000 213766 1280428583\n```\n\n\n:::\n:::\n\n:::\n\n## 데이터 넓히기: `pivot_wider()`\n\n![](images/clipboard-3400622461.png)\n\n## 컬럼의 결합 및 분할\n\n::: panel-tabset\n## table3\n\n\n::: {.cell}\n\n```{.r .cell-code}\ntable3\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n# A tibble: 6 × 3\n  country      year rate             \n  <chr>       <dbl> <chr>            \n1 Afghanistan  1999 745/19987071     \n2 Afghanistan  2000 2666/20595360    \n3 Brazil       1999 37737/172006362  \n4 Brazil       2000 80488/174504898  \n5 China        1999 212258/1272915272\n6 China        2000 213766/1280428583\n```\n\n\n:::\n:::\n\n\n## 정돈 결과\n\n\n::: {.cell}\n\n```{.r .cell-code}\ntable3 |> separate_wider_delim(\n  rate, delim = \"/\", names = c(\"cases\", \"population\") \n) \n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n# A tibble: 6 × 4\n  country      year cases  population\n  <chr>       <dbl> <chr>  <chr>     \n1 Afghanistan  1999 745    19987071  \n2 Afghanistan  2000 2666   20595360  \n3 Brazil       1999 37737  172006362 \n4 Brazil       2000 80488  174504898 \n5 China        1999 212258 1272915272\n6 China        2000 213766 1280428583\n```\n\n\n:::\n:::\n\n:::\n\n# [데이터 변형하기]{style=\"color:coral\"}\n\n## 데이터사이언스 프로세스\n\n![[https://r4ds.hadley.nz/transform.html](https://r4ds.hadley.nz/transform.html){style=\"font-size:1rem\"}](images/data_science_process_transform-02.png)\n\n-   데이터 변형하기(transform): 정돈된 데이터에 구조적ㆍ의미적 변동을 가해 다음 단계(시각화 및 모델링)에 적합한 상태로 만드는 과정\n\n## 데이터사이언스 프로세스: 타이디버스\n\n![[https://r4ds.hadley.nz/intro.html](https://r4ds.hadley.nz/intro.html){style=\"font-size:1rem\"}](images/data_science_process_packages-04.png)\n\n## **dplyr** 패키지\n\n![[https://dplyr.tidyverse.org/](https://dplyr.tidyverse.org/){style=\"font-size:1rem\"}](images/clipboard-3059639685.png){fig-align=\"center\"}\n\n## **dplyr** 패키지: 기본 원리\n\n-   함수의 이름은 기본적으로 [**동사**]{style=\"color:coral\"}이다.\n\n-   첫 번째 아규먼트는 항상 [**데이터 프레임**]{style=\"color:coral\"}이다.\n\n-   그 다음 아규먼트(들)는 데이터 변형에 결부되는 [**변수**]{style=\"color:coral\"}(들)를 지정한다 .\n\n-   산출물은 항상 [**데이터 프레임**]{style=\"color:coral\"}이다.\n\n## **dplyr** 패키지: 기능 분류\n\n-   단일 테이블 조작: 데이터 변형하기의 핵심 부분으로, 한 데이터 프레임의 데이터 구조를 조작\n\n-   다중 테이블 결합: 두 개 이상의 데이터 프레임으로 결합\n\n## 단일 테이블 조작 함수의 유형\n\n-   행(rows) 함수: 행에 적용되는 함수, 즉 행의 변화를 야기하는 함수\n\n-   열(columns) 함수: 열에 적용되는 함수, 즉 열의 변화를 야기하는 함수\n\n-   그룹(groups) 함수: 그룹에 적용되는 함수\n\n## \n\n![[https://kilhwan.github.io/rprogramming/ch-dataTransformation.html](https://kilhwan.github.io/rprogramming/ch-dataTransformation.html){style=\"font-size:1rem\"}](images/clipboard-2728894062.png){fig-align=\"center\"}\n\n## 행 함수: 네 개의 주요 함수\n\n-   `filter()`: 특정 변수(들)에 의거한 조건을 만족하는 행(들)을 추출\n\n-   `arrange()`: 특정 변수(들)에 의거해 행(들)의 순서를 변경\n\n-   `distinct()`: 특정 변수(들)에 의거해 (중복을 제거한) 고유한 행(들)을 추출\n\n-   `slice()`: `filter()` 함수처럼 특정 행(들)을 추출\n\n    -   특정 변수와 관계 없이, 행의 위치에 의거해 특정 행(들)을 추출\n\n    -   특정 변수에 따른, 행의 위치에 의거해 행(들)을 추출\n\n## 행 함수 1: `filter()`\n\n![[https://allisonhorst.com/r-packages-functions](https://allisonhorst.com/r-packages-functions){style=\"font-size:1rem\"}](images/clipboard-2723506167.png)\n\n## 행 함수 1: `filter()`\n\n![](images/clipboard-565233092.png)\n\n## 행 함수 1: `filter()`\n\n::: panel-tabset\n## Data\n\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(tidyverse)\ntable1\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n# A tibble: 6 × 4\n  country      year  cases population\n  <chr>       <dbl>  <dbl>      <dbl>\n1 Afghanistan  1999    745   19987071\n2 Afghanistan  2000   2666   20595360\n3 Brazil       1999  37737  172006362\n4 Brazil       2000  80488  174504898\n5 China        1999 212258 1272915272\n6 China        2000 213766 1280428583\n```\n\n\n:::\n:::\n\n\n## `filter()` 1\n\n\n::: {.cell}\n\n```{.r .cell-code}\nfilter(table1, year == 2000)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n# A tibble: 3 × 4\n  country      year  cases population\n  <chr>       <dbl>  <dbl>      <dbl>\n1 Afghanistan  2000   2666   20595360\n2 Brazil       2000  80488  174504898\n3 China        2000 213766 1280428583\n```\n\n\n:::\n:::\n\n\n## `filter()` 2\n\n\n::: {.cell}\n\n```{.r .cell-code}\ntable1 |> \n  filter(\n    year == 2000 & population > 50000000\n  )\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n# A tibble: 2 × 4\n  country  year  cases population\n  <chr>   <dbl>  <dbl>      <dbl>\n1 Brazil   2000  80488  174504898\n2 China    2000 213766 1280428583\n```\n\n\n:::\n:::\n\n:::\n\n## 행 함수 2: `arrange()`\n\n![](images/clipboard-3074305878.png)\n\n## 행 함수 2: `arrange()`\n\n::: panel-tabset\n## Data\n\n\n::: {.cell}\n\n```{.r .cell-code}\ntable1\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n# A tibble: 6 × 4\n  country      year  cases population\n  <chr>       <dbl>  <dbl>      <dbl>\n1 Afghanistan  1999    745   19987071\n2 Afghanistan  2000   2666   20595360\n3 Brazil       1999  37737  172006362\n4 Brazil       2000  80488  174504898\n5 China        1999 212258 1272915272\n6 China        2000 213766 1280428583\n```\n\n\n:::\n:::\n\n\n## `arrange()` 1\n\n\n::: {.cell}\n\n```{.r .cell-code}\narrange(table1, cases)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n# A tibble: 6 × 4\n  country      year  cases population\n  <chr>       <dbl>  <dbl>      <dbl>\n1 Afghanistan  1999    745   19987071\n2 Afghanistan  2000   2666   20595360\n3 Brazil       1999  37737  172006362\n4 Brazil       2000  80488  174504898\n5 China        1999 212258 1272915272\n6 China        2000 213766 1280428583\n```\n\n\n:::\n:::\n\n\n## `arrange()` 2\n\n\n::: {.cell}\n\n```{.r .cell-code}\ntable1 |> \n  arrange(desc(cases))\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n# A tibble: 6 × 4\n  country      year  cases population\n  <chr>       <dbl>  <dbl>      <dbl>\n1 China        2000 213766 1280428583\n2 China        1999 212258 1272915272\n3 Brazil       2000  80488  174504898\n4 Brazil       1999  37737  172006362\n5 Afghanistan  2000   2666   20595360\n6 Afghanistan  1999    745   19987071\n```\n\n\n:::\n:::\n\n:::\n\n## 행 함수 3: `distinct()`\n\n![](images/clipboard-3425030843.png)\n\n## 행 함수 3: `distinct()`\n\n::: panel-tabset\n## Data\n\n\n::: {.cell}\n\n```{.r .cell-code}\ntable1\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n# A tibble: 6 × 4\n  country      year  cases population\n  <chr>       <dbl>  <dbl>      <dbl>\n1 Afghanistan  1999    745   19987071\n2 Afghanistan  2000   2666   20595360\n3 Brazil       1999  37737  172006362\n4 Brazil       2000  80488  174504898\n5 China        1999 212258 1272915272\n6 China        2000 213766 1280428583\n```\n\n\n:::\n:::\n\n\n## `distinct()` 1\n\n\n::: {.cell}\n\n```{.r .cell-code}\ndistinct(table1, country)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n# A tibble: 3 × 1\n  country    \n  <chr>      \n1 Afghanistan\n2 Brazil     \n3 China      \n```\n\n\n:::\n:::\n\n\n## `distinct()` 2\n\n\n::: {.cell}\n\n```{.r .cell-code}\ntable1 |> \n  distinct(\n    country, .keep_all = TRUE\n  )\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n# A tibble: 3 × 4\n  country      year  cases population\n  <chr>       <dbl>  <dbl>      <dbl>\n1 Afghanistan  1999    745   19987071\n2 Brazil       1999  37737  172006362\n3 China        1999 212258 1272915272\n```\n\n\n:::\n:::\n\n:::\n\n## 행 함수 4: `slice()`\n\n![](images/clipboard-1830339037.png)\n\n## 행 함수 4: `slice()`\n\n::: panel-tabset\n## Data\n\n\n::: {.cell}\n\n```{.r .cell-code}\ntable1\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n# A tibble: 6 × 4\n  country      year  cases population\n  <chr>       <dbl>  <dbl>      <dbl>\n1 Afghanistan  1999    745   19987071\n2 Afghanistan  2000   2666   20595360\n3 Brazil       1999  37737  172006362\n4 Brazil       2000  80488  174504898\n5 China        1999 212258 1272915272\n6 China        2000 213766 1280428583\n```\n\n\n:::\n:::\n\n\n## `slice()`\n\n\n::: {.cell}\n\n```{.r .cell-code}\nslice(table1, 2:3)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n# A tibble: 2 × 4\n  country      year cases population\n  <chr>       <dbl> <dbl>      <dbl>\n1 Afghanistan  2000  2666   20595360\n2 Brazil       1999 37737  172006362\n```\n\n\n:::\n:::\n\n\n## `slice_head()`\n\n\n::: {.cell}\n\n```{.r .cell-code}\ntable1 |> \n  slice_head(n = 2)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n# A tibble: 2 × 4\n  country      year cases population\n  <chr>       <dbl> <dbl>      <dbl>\n1 Afghanistan  1999   745   19987071\n2 Afghanistan  2000  2666   20595360\n```\n\n\n:::\n:::\n\n\n## `slice_tail()`\n\n\n::: {.cell}\n\n```{.r .cell-code}\ntable1 |> \n  slice_tail(prop = 1/3)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n# A tibble: 2 × 4\n  country  year  cases population\n  <chr>   <dbl>  <dbl>      <dbl>\n1 China    1999 212258 1272915272\n2 China    2000 213766 1280428583\n```\n\n\n:::\n:::\n\n\n## `slice_max()`\n\n\n::: {.cell}\n\n```{.r .cell-code}\ntable1 |> \n  slice_max(cases, n = 2)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n# A tibble: 2 × 4\n  country  year  cases population\n  <chr>   <dbl>  <dbl>      <dbl>\n1 China    2000 213766 1280428583\n2 China    1999 212258 1272915272\n```\n\n\n:::\n:::\n\n\n## `slice_min()`\n\n\n::: {.cell}\n\n```{.r .cell-code}\ntable1 |> \n  slice_min(cases, prop = 1/3)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n# A tibble: 2 × 4\n  country      year cases population\n  <chr>       <dbl> <dbl>      <dbl>\n1 Afghanistan  1999   745   19987071\n2 Afghanistan  2000  2666   20595360\n```\n\n\n:::\n:::\n\n\n## `slice_sample()`\n\n\n::: {.cell}\n\n```{.r .cell-code}\ntable1 |> \n  slice_sample(n = 2, replace = TRUE)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n# A tibble: 2 × 4\n  country  year  cases population\n  <chr>   <dbl>  <dbl>      <dbl>\n1 China    2000 213766 1280428583\n2 Brazil   2000  80488  174504898\n```\n\n\n:::\n:::\n\n:::\n\n## 열 함수: 네 개의 주요 함수\n\n-   `select()`: 변수(들) 중 일부를 추출\n\n-   `mutate()`: 변수(들)를 변형해 새로운 변수를 생성\n\n-   `rename()`: 변수(들)의 이름을 변경\n\n-   `relocate()`: 변수(들)의 위치(순서)를 변경\n\n## 열 함수 1: `select()`\n\n![](images/clipboard-3651470406.png)\n\n## 열 함수 1: `select()`\n\n::: panel-tabset\n## Data\n\n\n::: {.cell}\n\n```{.r .cell-code}\ntable1\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n# A tibble: 6 × 4\n  country      year  cases population\n  <chr>       <dbl>  <dbl>      <dbl>\n1 Afghanistan  1999    745   19987071\n2 Afghanistan  2000   2666   20595360\n3 Brazil       1999  37737  172006362\n4 Brazil       2000  80488  174504898\n5 China        1999 212258 1272915272\n6 China        2000 213766 1280428583\n```\n\n\n:::\n:::\n\n\n## `select()` 1\n\n\n::: {.cell}\n\n```{.r .cell-code}\nselect(table1, country, year)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n# A tibble: 6 × 2\n  country      year\n  <chr>       <dbl>\n1 Afghanistan  1999\n2 Afghanistan  2000\n3 Brazil       1999\n4 Brazil       2000\n5 China        1999\n6 China        2000\n```\n\n\n:::\n:::\n\n\n## `select()` 2\n\n\n::: {.cell}\n\n```{.r .cell-code}\ntable1 |> \n  select(-cases, -population)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n# A tibble: 6 × 2\n  country      year\n  <chr>       <dbl>\n1 Afghanistan  1999\n2 Afghanistan  2000\n3 Brazil       1999\n4 Brazil       2000\n5 China        1999\n6 China        2000\n```\n\n\n:::\n:::\n\n:::\n\n## 열 함수 2: `mutate()`\n\n![[https://allisonhorst.com/r-packages-functions](https://allisonhorst.com/r-packages-functions){style=\"font-size:1rem\"}](images/clipboard-417835741.png){fig-align=\"center\"}\n\n## 열 함수 2: `mutate()`\n\n![](images/clipboard-1943055285.png)\n\n## 열 함수 2: `mutate()`\n\n::: panel-tabset\n## Data\n\n\n::: {.cell}\n\n```{.r .cell-code}\ntable1\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n# A tibble: 6 × 4\n  country      year  cases population\n  <chr>       <dbl>  <dbl>      <dbl>\n1 Afghanistan  1999    745   19987071\n2 Afghanistan  2000   2666   20595360\n3 Brazil       1999  37737  172006362\n4 Brazil       2000  80488  174504898\n5 China        1999 212258 1272915272\n6 China        2000 213766 1280428583\n```\n\n\n:::\n:::\n\n\n## `mutate()` 1\n\n\n::: {.cell}\n\n```{.r .cell-code}\nmutate(table1, rate = cases / population)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n# A tibble: 6 × 5\n  country      year  cases population      rate\n  <chr>       <dbl>  <dbl>      <dbl>     <dbl>\n1 Afghanistan  1999    745   19987071 0.0000373\n2 Afghanistan  2000   2666   20595360 0.000129 \n3 Brazil       1999  37737  172006362 0.000219 \n4 Brazil       2000  80488  174504898 0.000461 \n5 China        1999 212258 1272915272 0.000167 \n6 China        2000 213766 1280428583 0.000167 \n```\n\n\n:::\n:::\n\n\n## `mutate()` 2\n\n\n::: {.cell}\n\n```{.r .cell-code}\ntable1_new <- table1 |> \n  mutate(\n    rate = cases / population,\n    continent = if_else(country == \"Brazil\", \"Americas\", \"Asia\")\n  )\ntable1_new\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n# A tibble: 6 × 6\n  country      year  cases population      rate continent\n  <chr>       <dbl>  <dbl>      <dbl>     <dbl> <chr>    \n1 Afghanistan  1999    745   19987071 0.0000373 Asia     \n2 Afghanistan  2000   2666   20595360 0.000129  Asia     \n3 Brazil       1999  37737  172006362 0.000219  Americas \n4 Brazil       2000  80488  174504898 0.000461  Americas \n5 China        1999 212258 1272915272 0.000167  Asia     \n6 China        2000 213766 1280428583 0.000167  Asia     \n```\n\n\n:::\n:::\n\n:::\n\n## 열 함수 3: `rename()`\n\n![[https://allisonhorst.com/r-packages-functions](https://allisonhorst.com/r-packages-functions){style=\"font-size:1rem\"}](images/clipboard-3953189394.png){fig-align=\"center\"}\n\n## 열 함수 3: `rename()`\n\n![](images/clipboard-654990545.png)\n\n## 열 함수 3: `rename()`\n\n::: panel-tabset\n## Data\n\n\n::: {.cell}\n\n```{.r .cell-code}\ntable1_new\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n# A tibble: 6 × 6\n  country      year  cases population      rate continent\n  <chr>       <dbl>  <dbl>      <dbl>     <dbl> <chr>    \n1 Afghanistan  1999    745   19987071 0.0000373 Asia     \n2 Afghanistan  2000   2666   20595360 0.000129  Asia     \n3 Brazil       1999  37737  172006362 0.000219  Americas \n4 Brazil       2000  80488  174504898 0.000461  Americas \n5 China        1999 212258 1272915272 0.000167  Asia     \n6 China        2000 213766 1280428583 0.000167  Asia     \n```\n\n\n:::\n:::\n\n\n## `rename()` 1\n\n\n::: {.cell}\n\n```{.r .cell-code}\nrename(table1_new, cont = continent)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n# A tibble: 6 × 6\n  country      year  cases population      rate cont    \n  <chr>       <dbl>  <dbl>      <dbl>     <dbl> <chr>   \n1 Afghanistan  1999    745   19987071 0.0000373 Asia    \n2 Afghanistan  2000   2666   20595360 0.000129  Asia    \n3 Brazil       1999  37737  172006362 0.000219  Americas\n4 Brazil       2000  80488  174504898 0.000461  Americas\n5 China        1999 212258 1272915272 0.000167  Asia    \n6 China        2000 213766 1280428583 0.000167  Asia    \n```\n\n\n:::\n:::\n\n\n## `rename()` 2\n\n\n::: {.cell}\n\n```{.r .cell-code}\ntable1_new |> \n  rename(\n    cont = continent,\n    pop = population\n  )\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n# A tibble: 6 × 6\n  country      year  cases        pop      rate cont    \n  <chr>       <dbl>  <dbl>      <dbl>     <dbl> <chr>   \n1 Afghanistan  1999    745   19987071 0.0000373 Asia    \n2 Afghanistan  2000   2666   20595360 0.000129  Asia    \n3 Brazil       1999  37737  172006362 0.000219  Americas\n4 Brazil       2000  80488  174504898 0.000461  Americas\n5 China        1999 212258 1272915272 0.000167  Asia    \n6 China        2000 213766 1280428583 0.000167  Asia    \n```\n\n\n:::\n:::\n\n:::\n\n## 열 함수 4: `relocate()`\n\n![[https://allisonhorst.com/r-packages-functions](https://allisonhorst.com/r-packages-functions){style=\"font-size:1rem\"}](images/clipboard-2066290782.png){fig-align=\"center\"}\n\n## 열 함수 4: `relocate()`\n\n![](images/clipboard-1813959402.png)\n\n## 열 함수 4: `relocate()`\n\n::: panel-tabset\n## Data\n\n\n::: {.cell}\n\n```{.r .cell-code}\ntable1_new\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n# A tibble: 6 × 6\n  country      year  cases population      rate continent\n  <chr>       <dbl>  <dbl>      <dbl>     <dbl> <chr>    \n1 Afghanistan  1999    745   19987071 0.0000373 Asia     \n2 Afghanistan  2000   2666   20595360 0.000129  Asia     \n3 Brazil       1999  37737  172006362 0.000219  Americas \n4 Brazil       2000  80488  174504898 0.000461  Americas \n5 China        1999 212258 1272915272 0.000167  Asia     \n6 China        2000 213766 1280428583 0.000167  Asia     \n```\n\n\n:::\n:::\n\n\n## `relocate()` 1\n\n\n::: {.cell}\n\n```{.r .cell-code}\nrelocate(table1_new, year, continent)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n# A tibble: 6 × 6\n   year continent country      cases population      rate\n  <dbl> <chr>     <chr>        <dbl>      <dbl>     <dbl>\n1  1999 Asia      Afghanistan    745   19987071 0.0000373\n2  2000 Asia      Afghanistan   2666   20595360 0.000129 \n3  1999 Americas  Brazil       37737  172006362 0.000219 \n4  2000 Americas  Brazil       80488  174504898 0.000461 \n5  1999 Asia      China       212258 1272915272 0.000167 \n6  2000 Asia      China       213766 1280428583 0.000167 \n```\n\n\n:::\n:::\n\n\n## `relocate()` 2\n\n\n::: {.cell}\n\n```{.r .cell-code}\ntable1_new |> \n  relocate(\n    rate,\n    .before = year\n  )\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n# A tibble: 6 × 6\n  country          rate  year  cases population continent\n  <chr>           <dbl> <dbl>  <dbl>      <dbl> <chr>    \n1 Afghanistan 0.0000373  1999    745   19987071 Asia     \n2 Afghanistan 0.000129   2000   2666   20595360 Asia     \n3 Brazil      0.000219   1999  37737  172006362 Americas \n4 Brazil      0.000461   2000  80488  174504898 Americas \n5 China       0.000167   1999 212258 1272915272 Asia     \n6 China       0.000167   2000 213766 1280428583 Asia     \n```\n\n\n:::\n:::\n\n:::\n\n## 그룹 함수: 네 개의 주요 함수\n\n-   `group_by()`: 변수(들)에 의거해 전체 행(들)을 그룹으로 분할\n\n-   `summarize()`: 그룹별로 변수(들)의 통계량을 산출하여 새로운 변수(들)로 저장\n\n-   `count()`: 그룹별로 해당 관측개체의 빈도수를 계산\n\n-   `across()`: 그룹별로 여러 변수에 걸쳐 동일한 통계량을 산출하고 새로운 변수들로 저장\n\n## 그룹 함수 1: `group_by()`\n\n![](images/clipboard-1542658472.png)\n\n## 그룹 함수 1: `group_by()`\n\n::: panel-tabset\n## Data\n\n\n::: {.cell}\n\n```{.r .cell-code}\ntable1_new\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n# A tibble: 6 × 6\n  country      year  cases population      rate continent\n  <chr>       <dbl>  <dbl>      <dbl>     <dbl> <chr>    \n1 Afghanistan  1999    745   19987071 0.0000373 Asia     \n2 Afghanistan  2000   2666   20595360 0.000129  Asia     \n3 Brazil       1999  37737  172006362 0.000219  Americas \n4 Brazil       2000  80488  174504898 0.000461  Americas \n5 China        1999 212258 1272915272 0.000167  Asia     \n6 China        2000 213766 1280428583 0.000167  Asia     \n```\n\n\n:::\n:::\n\n\n## `group_by()` 1\n\n\n::: {.cell}\n\n```{.r .cell-code}\ngroup_by(table1_new, continent)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n# A tibble: 6 × 6\n# Groups:   continent [2]\n  country      year  cases population      rate continent\n  <chr>       <dbl>  <dbl>      <dbl>     <dbl> <chr>    \n1 Afghanistan  1999    745   19987071 0.0000373 Asia     \n2 Afghanistan  2000   2666   20595360 0.000129  Asia     \n3 Brazil       1999  37737  172006362 0.000219  Americas \n4 Brazil       2000  80488  174504898 0.000461  Americas \n5 China        1999 212258 1272915272 0.000167  Asia     \n6 China        2000 213766 1280428583 0.000167  Asia     \n```\n\n\n:::\n:::\n\n\n## `group_by()` 2\n\n\n::: {.cell}\n\n```{.r .cell-code}\ntable1_new |> \n  group_by(continent, year)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n# A tibble: 6 × 6\n# Groups:   continent, year [4]\n  country      year  cases population      rate continent\n  <chr>       <dbl>  <dbl>      <dbl>     <dbl> <chr>    \n1 Afghanistan  1999    745   19987071 0.0000373 Asia     \n2 Afghanistan  2000   2666   20595360 0.000129  Asia     \n3 Brazil       1999  37737  172006362 0.000219  Americas \n4 Brazil       2000  80488  174504898 0.000461  Americas \n5 China        1999 212258 1272915272 0.000167  Asia     \n6 China        2000 213766 1280428583 0.000167  Asia     \n```\n\n\n:::\n:::\n\n:::\n\n## 그룹 함수 2: `summarize()`\n\n![](images/clipboard-1592063625.png)\n\n## 그룹 함수 2: `summarize()`\n\n::: panel-tabset\n## Data\n\n\n::: {.cell}\n\n```{.r .cell-code}\ntable1_new\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n# A tibble: 6 × 6\n  country      year  cases population      rate continent\n  <chr>       <dbl>  <dbl>      <dbl>     <dbl> <chr>    \n1 Afghanistan  1999    745   19987071 0.0000373 Asia     \n2 Afghanistan  2000   2666   20595360 0.000129  Asia     \n3 Brazil       1999  37737  172006362 0.000219  Americas \n4 Brazil       2000  80488  174504898 0.000461  Americas \n5 China        1999 212258 1272915272 0.000167  Asia     \n6 China        2000 213766 1280428583 0.000167  Asia     \n```\n\n\n:::\n:::\n\n\n## `summarize()` 1\n\n\n::: {.cell}\n\n```{.r .cell-code}\nsummarize(table1_new, \n  sum_cases = sum(cases)\n  )\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n# A tibble: 1 × 1\n  sum_cases\n      <dbl>\n1    547660\n```\n\n\n:::\n:::\n\n\n## `summarize()` 2\n\n\n::: {.cell}\n\n```{.r .cell-code}\ntable1_new |> \n  summarize(\n    sum_cases = sum(cases), \n    mean_rate = mean(rate)\n  )\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n# A tibble: 1 × 2\n  sum_cases mean_rate\n      <dbl>     <dbl>\n1    547660  0.000197\n```\n\n\n:::\n:::\n\n:::\n\n## 그룹 함수 1 + 2: `group_by()` + `summarize()`\n\n![](images/clipboard-1318711495.png)\n\n## 그룹 함수 1 + 2: `group_by()` + `summarize()`\n\n::: panel-tabset\n## Data\n\n\n::: {.cell}\n\n```{.r .cell-code}\ntable1_new\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n# A tibble: 6 × 6\n  country      year  cases population      rate continent\n  <chr>       <dbl>  <dbl>      <dbl>     <dbl> <chr>    \n1 Afghanistan  1999    745   19987071 0.0000373 Asia     \n2 Afghanistan  2000   2666   20595360 0.000129  Asia     \n3 Brazil       1999  37737  172006362 0.000219  Americas \n4 Brazil       2000  80488  174504898 0.000461  Americas \n5 China        1999 212258 1272915272 0.000167  Asia     \n6 China        2000 213766 1280428583 0.000167  Asia     \n```\n\n\n:::\n:::\n\n\n## Combination 1\n\n\n::: {.cell}\n\n```{.r .cell-code}\ntable1_new_group <- group_by(table1_new, continent, year)\nsummarize(table1_new_group, \n  sum_cases = sum(cases),\n  mean_rate = mean(rate)\n)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n# A tibble: 4 × 4\n# Groups:   continent [2]\n  continent  year sum_cases mean_rate\n  <chr>     <dbl>     <dbl>     <dbl>\n1 Americas   1999     37737  0.000219\n2 Americas   2000     80488  0.000461\n3 Asia       1999    213003  0.000102\n4 Asia       2000    216432  0.000148\n```\n\n\n:::\n:::\n\n\n## Combination 2\n\n\n::: {.cell}\n\n```{.r .cell-code}\ntable1_new |> \n  group_by(continent, year) |> \n  summarize(\n    sum_cases = sum(cases), \n    sum_pop = sum(population)\n  ) |> \n  mutate(\n    rate = sum_cases / sum_pop\n  ) |> \n  ungroup()\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n# A tibble: 4 × 5\n  continent  year sum_cases    sum_pop     rate\n  <chr>     <dbl>     <dbl>      <dbl>    <dbl>\n1 Americas   1999     37737  172006362 0.000219\n2 Americas   2000     80488  174504898 0.000461\n3 Asia       1999    213003 1292902343 0.000165\n4 Asia       2000    216432 1301023943 0.000166\n```\n\n\n:::\n:::\n\n:::\n\n## 그룹 함수 3: `count()`\n\n![](images/clipboard-2066641215.png)\n\n## 그룹 함수 3: `count()`\n\n::: panel-tabset\n## Data\n\n\n::: {.cell}\n\n```{.r .cell-code}\ntable1_new\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n# A tibble: 6 × 6\n  country      year  cases population      rate continent\n  <chr>       <dbl>  <dbl>      <dbl>     <dbl> <chr>    \n1 Afghanistan  1999    745   19987071 0.0000373 Asia     \n2 Afghanistan  2000   2666   20595360 0.000129  Asia     \n3 Brazil       1999  37737  172006362 0.000219  Americas \n4 Brazil       2000  80488  174504898 0.000461  Americas \n5 China        1999 212258 1272915272 0.000167  Asia     \n6 China        2000 213766 1280428583 0.000167  Asia     \n```\n\n\n:::\n:::\n\n\n## `count()` 1\n\n\n::: {.cell}\n\n```{.r .cell-code}\ncount(table1_new, year, continent)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n# A tibble: 4 × 3\n   year continent     n\n  <dbl> <chr>     <int>\n1  1999 Americas      1\n2  1999 Asia          2\n3  2000 Americas      1\n4  2000 Asia          2\n```\n\n\n:::\n:::\n\n\n## `count()` 2\n\n\n::: {.cell}\n\n```{.r .cell-code}\ntable1_new |> \n  count(year, continent, wt = cases)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n# A tibble: 4 × 3\n   year continent      n\n  <dbl> <chr>      <dbl>\n1  1999 Americas   37737\n2  1999 Asia      213003\n3  2000 Americas   80488\n4  2000 Asia      216432\n```\n\n\n:::\n:::\n\n\n## `count()` 3\n\n\n::: {.cell}\n\n```{.r .cell-code}\ntable1_new |> \n  group_by(year, continent) |> \n  summarize(\n    cases_n = n(),\n    cases_sum = sum(cases)\n  )\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n# A tibble: 4 × 4\n# Groups:   year [2]\n   year continent cases_n cases_sum\n  <dbl> <chr>       <int>     <dbl>\n1  1999 Americas        1     37737\n2  1999 Asia            2    213003\n3  2000 Americas        1     80488\n4  2000 Asia            2    216432\n```\n\n\n:::\n:::\n\n:::\n\n## 그룹 함수 4: `across()`\n\n![[https://allisonhorst.com/r-packages-functions](https://allisonhorst.com/r-packages-functions){style=\"font-size:1rem\"}](images/clipboard-2406373084.png){fig-align=\"center\"}\n\n## 그룹 함수 4: `across()`\n\n::: panel-tabset\n## Data\n\n\n::: {.cell}\n\n```{.r .cell-code}\ntable1_new\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n# A tibble: 6 × 6\n  country      year  cases population      rate continent\n  <chr>       <dbl>  <dbl>      <dbl>     <dbl> <chr>    \n1 Afghanistan  1999    745   19987071 0.0000373 Asia     \n2 Afghanistan  2000   2666   20595360 0.000129  Asia     \n3 Brazil       1999  37737  172006362 0.000219  Americas \n4 Brazil       2000  80488  174504898 0.000461  Americas \n5 China        1999 212258 1272915272 0.000167  Asia     \n6 China        2000 213766 1280428583 0.000167  Asia     \n```\n\n\n:::\n:::\n\n\n## `across()` 1\n\n\n::: {.cell}\n\n```{.r .cell-code}\nsummarize(table1_new, across(c(cases, population), mean))\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n# A tibble: 1 × 2\n   cases population\n   <dbl>      <dbl>\n1 91277. 490072924.\n```\n\n\n:::\n:::\n\n\n## `across()` 2\n\n\n::: {.cell}\n\n```{.r .cell-code}\ntable1_new |> \n  group_by(year) |> \n  summarize(\n    across(\n      c(cases, population, rate),\n      mean,\n      .names = \"mean_{.col}\"\n    )\n  )\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n# A tibble: 2 × 4\n   year mean_cases mean_population mean_rate\n  <dbl>      <dbl>           <dbl>     <dbl>\n1  1999     83580       488302902.  0.000141\n2  2000     98973.      491842947   0.000253\n```\n\n\n:::\n:::\n\n:::\n\n## 다중 테이블 결합: 종류\n\n-   테이블 조인(join): 두 개 데이터 프레임을 공통키(common key)를 이용해 결합함으로써 하나의 데이터 프레임을 생성\n\n-   테이블 병합(merge): 두 데이터 프레임을 결합해 새로운 단일한 프레임을 생성한다는 의미에서는 테이블 조인과 동일하지만, 공통키가 없으며, 행과 열 중 하나는 반드시 동일해야 함.\n\n## 테이블 조인: 키(key)\n\n![](images/clipboard-1575493085.png)\n\n## 테이블 조인: 유형\n\n-   [`left_join()`](https://dplyr.tidyverse.org/reference/mutate-joins.html): 첫 번째 테이블은 그대로 둔 상태에서 두 번째 테이블을 결합함으로써 두 번째 테이블의 열을 가져옴\n\n-   [`right_join()`](https://dplyr.tidyverse.org/reference/mutate-joins.html): 두 번째 테이블은 그대로 둔 상태에서 첫 번째 테이블을 결합함으로써 첫 번째 테이블의 열을 가져옴\n\n-   [`inner_join()`](https://dplyr.tidyverse.org/reference/mutate-joins.html): 두 테이블 모두에 존재하는 열을 취함\n\n-   [`full_join()`](https://dplyr.tidyverse.org/reference/mutate-joins.html): 최소한 한 테이블에 존재하는 열을 모두 취함\n\n-   [`semi_join()`](https://dplyr.tidyverse.org/reference/filter-joins.html): 첫 번째 테이블의 행 중 두 번째 테이블에 대응하는 행이 있는 것만 취함\n\n-   [`anti_join()`](https://dplyr.tidyverse.org/reference/filter-joins.html): 첫 번째 테이블의 행 중 두 번째 테이블에 대응하는 행이 없는 것만 취함\n\n## 테이블 조인: 유형\n\n![](images/clipboard-1394869847.png){fig-align=\"center\"}\n\n## 테이블 조인: 유형\n\n::: {layout=\"[45, -5, 45]\" layout-valign=\"center\"}\n![](images/clipboard-3276497169.png)\n\n![](images/clipboard-1577298199.png)\n:::\n\n## 테이블 조인: 유형\n\n::: {layout=\"[45, -5, 45]\" layout-valign=\"center\"}\n![](images/clipboard-2197162614.png){fig-align=\"center\"}\n\n![](images/clipboard-2555805146.png){fig-align=\"center\"}\n:::\n\n## 테이블 병합: 주요 함수\n\n-   `bind_row()`: 컬럼이 동일한 두 테이블을 상하로 연결\n-   `bind_col()`: 행이 동일한 두 테이블을 좌우로 연결\n\n## 테이블 병합: 주요 함수\n\n::: panel-tabset\n## bind_row 1\n\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(tidyverse)\nlibrary(gapminder)\ngap_1957 <- gapminder |> filter(year == 1957)\ngap_1982 <- gapminder |> filter(year == 1982)\ngap_2007 <- gapminder |> filter(year == 2007)\n```\n:::\n\n\n## bind_row 2\n\n\n::: {.cell}\n\n```{.r .cell-code}\ngapminder_merge_row <- bind_rows(\n  gap_1957, gap_1982, gap_2007\n)\ngapminder_merge_row\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n# A tibble: 426 × 6\n   country     continent  year lifeExp      pop gdpPercap\n   <fct>       <fct>     <int>   <dbl>    <int>     <dbl>\n 1 Afghanistan Asia       1957    30.3  9240934      821.\n 2 Albania     Europe     1957    59.3  1476505     1942.\n 3 Algeria     Africa     1957    45.7 10270856     3014.\n 4 Angola      Africa     1957    32.0  4561361     3828.\n 5 Argentina   Americas   1957    64.4 19610538     6857.\n 6 Australia   Oceania    1957    70.3  9712569    10950.\n 7 Austria     Europe     1957    67.5  6965860     8843.\n 8 Bahrain     Asia       1957    53.8   138655    11636.\n 9 Bangladesh  Asia       1957    39.3 51365468      662.\n10 Belgium     Europe     1957    69.2  8989111     9715.\n# ℹ 416 more rows\n```\n\n\n:::\n:::\n\n\n## bind_col 1\n\n\n::: {.cell}\n\n```{.r .cell-code}\ngap_var1 <- gapminder |> select(country, continent, year)\ngap_var2 <- gapminder |> select(lifeExp, pop, gdpPercap)\n```\n:::\n\n\n## bind_col 2\n\n\n::: {.cell}\n\n```{.r .cell-code}\ngapminder_merge_col <- bind_cols(gap_var1, gap_var2)\ngapminder_merge_col\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n# A tibble: 1,704 × 6\n   country     continent  year lifeExp      pop gdpPercap\n   <fct>       <fct>     <int>   <dbl>    <int>     <dbl>\n 1 Afghanistan Asia       1952    28.8  8425333      779.\n 2 Afghanistan Asia       1957    30.3  9240934      821.\n 3 Afghanistan Asia       1962    32.0 10267083      853.\n 4 Afghanistan Asia       1967    34.0 11537966      836.\n 5 Afghanistan Asia       1972    36.1 13079460      740.\n 6 Afghanistan Asia       1977    38.4 14880372      786.\n 7 Afghanistan Asia       1982    39.9 12881816      978.\n 8 Afghanistan Asia       1987    40.8 13867957      852.\n 9 Afghanistan Asia       1992    41.7 16317921      649.\n10 Afghanistan Asia       1997    41.8 22227415      635.\n# ℹ 1,694 more rows\n```\n\n\n:::\n:::\n\n:::\n",
    "supporting": [],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}